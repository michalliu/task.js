<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>task.js - A beautiful way to control your task flow</title>
	<style>
		.demo{position:relative;padding-bottom:50px;}
		.box {width:50px;height:50px;position:absolute;left:0;bottom:0;background:green;-webkit-transition:left 1s ease;transition:left 1s ease;}
		pre.code{font-family:"consolas";font-size:12px;display:block;background:#eee;padding:5px 0;}
	</style>
	<script src="./task.js"></script>
	<script>
function start() {
	var box1 = document.getElementById("box1");
	var report1 = document.getElementById("report1");
	var start1 = Date.now();
	var end1;

	task()
	.sleep(1000)
	.run(function() {
		box1.style.left = 20 + "px";
	})
	.sleep(1000)
	.run(function () {
		box1.style.left = 80 + "px";
	})
	.sleep(2000)
	.run(function () {
		box1.style.left = 120 + "px";
	})
	.sleep(3000)
	.run(function () {
		box1.style.left = 160 + "px";
		var text;
		end1 = Date.now();
		text = "time used " + (end1 - start1) + "ms";
		report1.innerText = text;
	});

	var box2 = document.getElementById("box2");
	var report2 = document.getElementById("report2");
	var start1 = Date.now();
	setTimeout(function () {
		box2.style.left = 20 + "px";
		setTimeout(function () {
			box2.style.left = 80 + "px";
			setTimeout(function () {
				box2.style.left = 120 + "px";
				setTimeout(function () {
					box2.style.left = 160 + "px";
					var text;
					end2 = Date.now();
					text = "time used " + (end1 - start1) + "ms";
					report2.innerText = text;
				}, 3000);
			}, 2000);
		}, 1000)
	},1000);
}
	</script>
</head>
<body>
<a href="https://github.com/michalliu/task.js"><img style="position: absolute; top: 0; right: 0; border: 0;z-index:1;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a>
	<button onclick="start();">click to start</button>
	<div class="demo">
		<p>task.js <span class="report" id="report1"></span></p>
	<pre class="code">
	task()
	.sleep(1000)
	.run(function() {
		box1.style.left = 20 + "px";
	})
	.sleep(1000)
	.run(function () {
		box1.style.left = 80 + "px";
	})
	.sleep(2000)
	.run(function () {
		box1.style.left = 120 + "px";
	})
	.sleep(3000)
	.run(function () {
		box1.style.left = 160 + "px";
	});
	</pre>
		<div class="box" id="box1"></div>
	</div>
	<div class="demo">
		<p>traditional way <span class="report" id="report2"></span></p>
		<pre class="code">
	var box2 = document.getElementById("box2");
	setTimeout(function () {
		box2.style.left = 20 + "px";
		setTimeout(function () {
			box2.style.left = 80 + "px";
			setTimeout(function () {
				box2.style.left = 120 + "px";
				setTimeout(function () {
					box2.style.left = 160 + "px";
				}, 3000);
			}, 2000);
		}, 1000)
	},1000);
		</pre>
		<div class="box" id="box2"></div>
	</div>
</body>
</html>

