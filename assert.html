<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>task.js - A beautiful way to control your task flow</title>
	<link rel="stylesheet" href="./main.css"></link>
	<script src="./task.js"></script>
	<script>
	function log(message) {
		var holder = document.getElementById("log-holder");
		var d = document.createElement("div");
		d.innerText = message;
		holder.appendChild(d);
		if (window.console) {
			console.log(message);
		}
	}
	task.onAssertionError = function (err) {
		log(err);
	};
	function assertionTrueSuccess() {
		task()
		.run(function () {log("caculating...")})
		.run(function () {
			return 1+1;
		})
		.sleep(1000)
		.assertTrue(function (result) { return result===2;})
		.sleep(1000)
		.run(function () {
			log("done");
		})
	}
	function assertionTrueError() {
		task()
		.run(function () {log("caculating...")})
		.run(function () {
			return 1+1;
		})
		.sleep(1000)
		.assertTrue(function (result) { return result===3;})
		.sleep(1000)
		.run(function () {
			log("done");
		})
	}
	function assertionFalseSuccess() {
		task()
		.run(function () {log("caculating...")})
		.run(function () {
			return 1+1;
		})
		.sleep(1000)
		.assertFalse(function (result) {return result===3;})
		.sleep(1000)
		.run(function () {
			log("done");
		})
	}
	function assertionFalseError() {
		task()
		.run(function () {log("caculating...")})
		.run(function () {
			return 1+1;
		})
		.sleep(1000)
		.assertFalse(function (result) {return result===2;})
		.sleep(1000)
		.run(function () {
			log("done");
		})
	}
	function assertionEqualsSuccess() {
		task()
		.run(function () {log("caculating...")})
		.run(function () {
			return 1+1;
		})
		.sleep(1000)
		.assertEquals(function (result) {return result;},
					  function (result) {return result * 10 / 10}
					 )
		.sleep(1000)
		.run(function () {
			log("done");
		})
	}
	function assertionEqualsFail() {
		task()
		.run(function () {log("caculating...")})
		.run(function () {
			return 1+1;
		})
		.sleep(1000)
		.assertEquals(function (result) {return result;},
					  function (result) {return result * 10 / 9}
					 )
		.sleep(1000)
		.run(function () {
			log("done");
		})
	}
	function assertionEqualsFail2() {
		task()
		.run(function () {log("caculating...")})
		.run(function () {
			return 1+1;
		})
		.sleep(1000)
		.assertEquals(4,
					  5
					 )
		.sleep(1000)
		.run(function () {
			log("done");
		})
	}
	function assertionNotEqualsSuccess() {
		task()
		.run(function () {log("caculating...")})
		.run(function () {
			return 1+1;
		})
		.sleep(1000)
		.assertNotEquals(function (result) {return result;},
					  	 function (result) {return result * 10 / 9}
					    )
		.sleep(1000)
		.run(function () {
			log("done");
		})
	}
	function assertionNotEqualsFail() {
		task()
		.run(function () {log("caculating...")})
		.run(function () {
			return 1+1;
		})
		.sleep(1000)
		.assertNotEquals(function (result) {return result;},
					  	 function (result) {return result * 10 / 10}
					    )
		.sleep(1000)
		.run(function () {
			log("done");
		})
	}
	function assertionNotEqualsFail2() {
		task()
		.run(function () {log("caculating...")})
		.run(function () {
			return 1+1;
		})
		.sleep(1000)
		.assertNotEquals(5,
					  	 5
					 	)
		.sleep(1000)
		.run(function () {
			log("done");
		})
	}
	</script>
</head>
<body>
<a href="https://github.com/michalliu/task.js"><img style="position: absolute; top: 0; right: 0; border: 0;z-index:1;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png" alt="Fork me on GitHub"></a>
	<button onclick="assertionTrueSuccess();">assertion True success</button>
	<button onclick="assertionTrueError();">assertion True fail</button>
	<button onclick="assertionFalseSuccess();">assertion False success</button>
	<button onclick="assertionFalseError();">assertion False fail</button>
	<button onclick="assertionEqualsSuccess();">assertion Equals success</button>
	<button onclick="assertionEqualsFail();">assertion Equals fail</button>
	<button onclick="assertionEqualsFail2();">assertion Equals fail 2</button>
	<button onclick="assertionNotEqualsSuccess();">assertion NotEquals success</button>
	<button onclick="assertionNotEqualsFail();">assertion NotEquals fail</button>
	<button onclick="assertionNotEqualsFail2();">assertion NotEquals fail 2</button>
	<div id="log-holder">Logging Area</div>
	<pre class="code">
	task()
	.run(function () {log("caculating...")})
	.run(function () {
		return 1+1;
	})
	.sleep(1000)
	.assertTrue(function (result) { return result===2;}) // ok
	.sleep(1000)
	.run(function () {
		log("done");
	})
	</pre>
	<pre class="code">
	task()
	.run(function () {log("caculating...")})
	.run(function () {
		return 1+1;
	})
	.sleep(1000)
	.assertTrue(function (result) { return result===3;}) // emm, problems
	.sleep(1000)
	.run(function () {
		log("done");
	})
	</pre>
	<pre class="code">
	task()
	.run(function () {log("caculating...")})
	.run(function () {
		return 1+1;
	})
	.sleep(1000)
	.assertFalse(function (result) {return result===3;}) // ok
	.sleep(1000)
	.run(function () {
		log("done");
	})
	</pre>
	<pre class="code">
	task()
	.run(function () {log("caculating...")})
	.run(function () {
		return 1+1;
	})
	.sleep(1000)
	.assertFalse(function (result) {return result===2;}) // emm, problems
	.sleep(1000)
	.run(function () {
		log("done");
	})
	</pre>
	<pre class="code">
	task()
	.run(function () {log("caculating...")})
	.run(function () {
		return 1+1;
	})
	.sleep(1000)
	.assertEquals(function (result) {return result;},
				  function (result) {return result * 10 / 10} // ok
				 )
	.sleep(1000)
	.run(function () {
		log("done");
	})
	</pre>
	<pre class="code">
	task()
	.run(function () {log("caculating...")})
	.run(function () {
		return 1+1;
	})
	.sleep(1000)
	.assertEquals(function (result) {return result;},
				  function (result) {return result * 10 / 9} // emm, problems
				 )
	.sleep(1000)
	.run(function () {
		log("done");
	})
	</pre>
	<pre class="code">
	task()
	.run(function () {log("caculating...")})
	.run(function () {
		return 1+1;
	})
	.sleep(1000)
	.assertEquals(4,5) // emm, problems
	.sleep(1000)
	.run(function () {
		log("done");
	})
	</pre>
	<pre class="code">
	task()
	.run(function () {log("caculating...")})
	.run(function () {
		return 1+1;
	})
	.sleep(1000)
	.assertNotEquals(function (result) {return result;},
				  	 function (result) {return result * 10 / 9} // ok, they are not equal
				    )
	.sleep(1000)
	.run(function () {
		log("done");
	})
	</pre>
	<pre class="code">
	task()
	.run(function () {log("caculating...")})
	.run(function () {
		return 1+1;
	})
	.sleep(1000)
	.assertNotEquals(function (result) {return result;},
				  	 function (result) {return result * 10 / 10} // emm, problems, they should NOT equal
				    )
	.sleep(1000)
	.run(function () {
		log("done");
	})
	</pre>
	<pre class="code">
	task()
	.run(function () {log("caculating...")})
	.run(function () {
		return 1+1;
	})
	.sleep(1000)
	.assertNotEquals(5,5) // emm, problems, they should NOT equal
	.sleep(1000)
	.run(function () {
		log("done");
	})
	</pre>
	<a href="index.html">return to index</a>
</body>
</html>

